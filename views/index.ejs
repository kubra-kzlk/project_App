<%- include('./partials/header') %>

  <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
    <div class="col-md-5 p-lg-5 mx-auto my-5">
      <h1 class="display-4 font-weight-normal">LAMPS</h1>     
    </div>
  </div>

<form action="/" method="get" class="input-group mb-3">
        <label for="q">Search:</label>
        <input  class="form-control"  type="text" id="q" name="q" placeholder="Search for products" value="<%= searchQuery %>" aria-describedby="button-addon2">
        <button class="btn btn-outline-secondary" type="submit" id="button-addon2">Search</button>
    </form>
 

  <form action="/" method="get" class="input-group col-md-5 p-lg-5 mx-auto my-5">

    <select name="sortField">
      <% for (let field of sortFields) { %>
        <option value="<%= field.value %>" <%=field.selected %>><%= field.text %>
        </option>
        <% } %>
    </select>
    <button type="submit" class="btn btn-outline-primary">Sort</button>
  </form>

  <div class="col-md p-lg-5 mx-auto my-5">
    <table class="table align-middle mb-0 bg-white table-hover">
      <thead class="bg-light">
        <tr>
          <% for (let field of sortFields) { %>
            <th>
              <a
                href="?sortField=<%= field.value %>&sortDirection=<%= field.value === sortField ? sortDirection === 'asc' ? 'desc' : 'asc' : 'asc' %>">
                <%= field.text %>
                  <% if (field.value===sortField) { %>
                    <%- sortDirection==='asc' ? '▲' : '▼' %>
                      <% } %>
              </a>
            </th>
            <% } %>
            <th>
            view
            </th>
        </tr>
      </thead>
      <tbody>
       <% lamps.forEach(lamp => { %>
              <tr>
            <td>
              <div class="d-flex align-items-center">
                <img src="<%- lamp.foto %>" alt="image" style="width: 80px; height: 80px" />                
                  <%- lamp.naam %>              
              </div>
            </td>
            <td class="fw-normal mb-1"><%- lamp.prijs %></td>
            <td><%- lamp.id %></td>
            <td><%- lamp.kleur %></td>
          <td class="bool-value"><%- lamp.active %>  
              <span>Active</span>
            </td>
            <td>
              <button type="button" class="btn btn-link btn-sm btn-rounded">
               <a href="/detail" class="btn btn-primary"> view  details </a></button>
            </td>            
          </tr>
          <% }) %>
      </tbody>
    </table>
  </div>

  <%- include('./partials/footer') %>

  